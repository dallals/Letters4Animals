<div id="adminheader"><h3>Administrative Panel</h3></div>
<div id="admin_container" ng-controller='adminController' ng-show='loggedIn'>

<!-- Left Admin panel -->
<div class="col-sm-12 admin_container">

  <a href="https://accounts.google.com/servicelogin?service=analytics"><button class="btn btn-primary analytics"> To Google Analytics</button></a>

    <div class="row">
            <div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a showtab="" href="#causes" aria-controls="home" role="tab" data-toggle="tab">CAUSES</a></li>
                    <li role="presentation"><a showtab="" href="#users" aria-controls="profile" role="tab" data-toggle="tab">USERS</a></li>
                    <li role="presentation"><a showtab="" href="#guests" aria-controls="messages" role="tab" data-toggle="tab">GUEST USERS</a></li>
                    <li role="presentation"><a showtab="" href="#pendingcauses" aria-controls="messages" role="tab" data-toggle="tab">PENDING CAUSES</a></li>
                </ul>


                <!-- Tab panes -->
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="causes">
                      <a href="#causeAddadmin"><button id="addcause" class="admin_buttons btn btn-primary analytics">Create New Cause</button></a>
                      <button class="btn btn-primary analytics" ng-click="enableAllCauses()">Enable All</button>
                      <button class="btn btn-primary analytics" ng-click="disableAllCauses()">Disable All</button>
                      <table class="table admintable">
                        <thead>
                          <th>Cause</th>
                          <th># of User Prints</th>
                          <th># of Guest Prints</th>
                          <th>Created</th>
                          <th>Enabled</th>
                          <th>Edit</th>
                          <th>Delete</th>
                          <th>Text</th>
                          <th>Email</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="cause in causes | orderBy:'id'">

                            <td><a href="#/getSingleCause/{{cause.id}}">{{cause.name}}</a></td>
                            <td>{{cause.supports - cause.guests_causes}}</td>
                            <td>{{cause.guests_causes}}</td>
                            <td>{{cause.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</span></td>
                            <td><input type="checkbox" ng-click='toggleCause(cause)' ng-checked="{{cause.enabled}}"></td>
                            <td><a href="#/causeadmin/{{cause.id}}"><button id="editCause" class="admin_panel" >Edit </button></a></td></td>
                            <td><button id="deletecause" class="admin_panel" ng-click='deleteCause(cause)'>Delete</button></td>
                            <td><button id="sendText" class="admin_panel" ng-click='sendText(cause)'>Send Text</button></td>
                            <td><button id="sendEmail" class="admin_panel" ng-click='sendEmail(cause)'>Send Email</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="users">
                      <table class="table admintable">
                        <thead>
                          <th>ID#</th>
                          <th>Name</th>
                          <th>Email</th>
                          <th># Causes</th>
                          <th>State</th>
                          <th>Text?</th>
                          <th>Email?</th>
                          <th># Logins</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="user in users | orderBy:'id'">
                            <td>{{user.id}}</td>
                            <td>{{ user.first_name }} {{ user.last_name }}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.supports}}</td>
                            <td>{{user.state}}</td>
                            <td>{{user.phone_notification}}</td>
                            <td>{{user.email_notification}}</td>
                            <td>{{user.login_count}}</td>
                            <td><button id="deletecause" class="admin_panel" ng-click='delUser(user)'>Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="guests">
                      <table class="table admintable">
                        <thead>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th># Causes</th>
                          <th>State</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="guest in guests | orderBy: 'id'">
                            <td>{{guest.first_name}}</td>
                            <td>{{guest.last_name}}</td>
                            <td>{{guest.cause_id}}</td>
                            <td>{{guest.state}}</td>
                            <td><button id="deletecause" class="admin_panel" ng-click='delGuest(guest)'>Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div role="tabpanel" class="tab-pane " id="pendingcauses">

                      <button class="btn btn-primary analytics" ng-click="enableAllCauses()">Enable All</button>
                      <button class="btn btn-primary analytics" ng-click="disableAllCauses()">Disable All</button>
                      <table class="table admintable">
                        <thead>
                          <th>Cause</th>
                          <th>Volunteer</th>
                          <th>Email</th>
                          <th>Created</th>
                          <th>Edit</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>

                          <tr ng-repeat="pendingcause in pendingcauses | orderBy: 'id'">
                            <td>{{pendingcause.name}}</td>
                            <td>{{pendingcause.first_name}} {{pendingcause.last_name}}</td>
                            <td>{{pendingcause.email}}</td>
                            <td>{{pendingcause.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</td>
                            <!-- <td><input type="checkbox" ng-click='toggleCause(cause)' ng-checked="{{cause.enabled}}"></td> -->
                            <td><a href="#/pendingcauseadmin/{{pendingcause.id}}"><button id="editPendingCause" class="admin_panel" >Edit & Add</button></a></td>
                            <td><button id="deletependingcause" class="admin_panel" ng-click='deletePendCause(pendingcause)'>Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

</div>
