<div id="adminheader"><h3>Administrative Panel</h3></div>
<div id="admin_container" ng-controller='adminController' ng-show='loggedIn'>

<!-- Left Admin panel -->
<div class="col-sm-12 admin_container">

  <a href="https://accounts.google.com/servicelogin?service=analytics"><button class="btn btn-primary analytics"> To Google Analytics</button></a>

  <!-- {{users}} -->
    <div class="row">
            <div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a showtab="" href="#causes" aria-controls="home" role="tab" data-toggle="tab">CAUSES</a></li>
                    <li role="presentation"><a showtab="" href="#users" aria-controls="profile" role="tab" data-toggle="tab">USERS</a></li>
                    <li role="presentation"><a showtab="" href="#letters" aria-controls="messages" role="tab" data-toggle="tab">LETTERS</a></li>
                    <li role="presentation"><a showtab="" href="#guests" aria-controls="messages" role="tab" data-toggle="tab">GUEST USERS</a></li>
                    <li role="presentation"><a showtab="" href="#pendingcauses" aria-controls="messages" role="tab" data-toggle="tab">PENDING CAUSES</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="causes">
                      <a href="#causeadmin"><button id="addcause" class="admin_buttons btn btn-primary analytics">Create New Cause</button></a>
                      <button class="btn btn-primary analytics" ng-click="enableAllCauses()">Enable All</button>
                      <button class="btn btn-primary analytics" ng-click="disableAllCauses()">Disable All</button>
                      <table class="table admintable">
                        <thead>
                          <th>Cause</th>
                          <th># of Users</th>
                          <th>Created</th>
                          <th>Enabled</th>
                          <th>Edit</th>
                          <th>Delete</th>
                          <th>Text</th>
                          <th>Email</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="cause in causes">
                            <td>{{cause.name}}</td>
                            <td>{{cause.supports}}</td>
                            <td>{{cause.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</span></td>
                            <td><input type="checkbox" ng-click='toggleCause(cause)' ng-checked="{{cause.enabled}}"></td>
                            <td><button id="editcause" class="admin_panel" ng-click='editCause(cause)'>Edit</button></td>
                            <td><button id="deletecause" class="admin_panel" ng-click='deleteCause(cause)'>Delete</button></td>
                            <td><button id="sendText" class="admin_panel" ng-click='sendText(cause)'>Send Text</button></td>
                            <td><button id="sendEmail" class="admin_panel" ng-click='sendEmail(cause)'>Send Email</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="users">
                      <table class="table admintable">
                        <thead>
                          <th>Name</th>
                          <th>Email</th>
                          <th># Causes</th>
                          <th>State</th>
                          <th>Text?</th>
                          <th>Email?</th>
                          <th># Logins</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="user in users | orderBy: id">
                            <td>{{ user.first_name }} {{ user.last_name }}</td>
                            <td>{{user.email}}</td>
                            <td>{{user.supports}}</td>
                            <td>{{user.state}}</td>
                            <td>{{user.phone_notification}}</td>
                            <td>{{user.email_notification}}</td>
                            <td>{{user.login_count}}</td>
                            <td><button id="deletecause" class="admin_panel" ng-click='delUser(user)'>Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="letters">
                      <a href="#letteradmin"><button id="addletter" class="admin_buttons btn btn-primary">Create New Letter</button></a>
                      <table class="table admintable">
                        <thead>
                          <th>Letter Name</th>
                          <th>Cause</th>
                          <th>Last updated</th>
                          <th>Edit</th>
                          <th>Disable</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="letter in letters">
                            <td>{{letter.name}}</td>
                            <td>{{letter.cause}}</td>
                            <td>{{letter.updatedAt | date:"MM/dd/yyyy 'at' h:mma"}}</td>
                            <td><button id="editletter" class="admin_panel" ng-click='editLetter(letter)'>Edit</button></td>
                            <td><button id="disableletter" class="admin_panel" ng-click='disableLetter(letter)'>Disable</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div role="tabpanel" class="tab-pane" id="guests">
                      <table class="table admintable">
                        <thead>
                          <th>First Name</th>
                          <th>Last Name</th>
                          <th># Causes</th>
                          <th>State</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="guest in guests | orderBy: id">
                            <td>{{guest.first_name}}</td>
                            <td>{{guest.last_name}}</td>
                            <td>{{guest.cause_id}}</td>
                            <td>{{guest.state}}</td>
                            <td><button id="deletecause" class="admin_panel" ng-click='delGuest(guest)'>Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div role="tabpanel" class="tab-pane " id="pendingcauses">

                      <button class="btn btn-primary analytics" ng-click="enableAllCauses()">Enable All</button>
                      <button class="btn btn-primary analytics" ng-click="disableAllCauses()">Disable All</button>
                      <table class="table admintable">
                        <thead>
                          <th>Cause</th>
                          <th># of Users</th>
                          <th>Created</th>
                          <th>Enabled</th>
                          <th>Edit</th>
                          <th>Delete</th>
                        </thead>
                        <tbody>
                          <tr ng-repeat="pendingcause in pendingcauses">
                            <td>{{pendingcause.name}}</td>
                            <td>{{pendingcause.supports}}</td>
                            <td>{{pendingcause.createdAt | date:"MM/dd/yyyy 'at' h:mma"}}</td>
                            <td><input type="checkbox" ng-click='toggleCause(cause)' ng-checked="{{cause.enabled}}"></td>
                            <td><button id="editPendingCause" class="admin_panel" ng-click='editPendCause(letter)'>Edit & Add</button></td>
                            <td><button id="deletePendingCause" class="admin_panel">Delete</button></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<!-- Right analytics panel -->
  <div class="col-sm-12 analytics">
    <h3>Site Stats</h3>
    <!-- <div class="stats">
      <div class="stat-graph-top">
      </div>
      <div class="stat-graph-top">
      </div>
      <div class="stat-graph-bottom">
      </div>
      <div class="stat-graph-bottom">
      </div>
    </div> -->
  </div>

</div>
